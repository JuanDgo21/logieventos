<div class="resources-container">
  <h2>Gestión de Recursos</h2>
  
  <!-- Mensaje de error -->
  <div *ngIf="errorMessage" class="alert alert-danger">
    {{ errorMessage }}
  </div>

  <!-- Spinner de carga -->
  <div *ngIf="isLoading" class="loading-spinner">
    <i class="fas fa-spinner fa-spin"></i> Cargando...
  </div>
  
  <!-- Formulario para crear/editar -->
  <div class="resourceForm">
    <h3>{{ editingResource ? 'Editar Recurso' : 'Nuevo Recurso' }}</h3>
    
    <div class="form-group">
      <label>Nombre:</label>
      <input type="text" 
             [ngModel]="editingResource ? editingResource.name : newResource.name"
             (ngModelChange)="onNameChange($event)">
    </div>
    
    <div class="form-group">
      <label>Descripción:</label>
      <textarea [ngModel]="editingResource ? editingResource.description : newResource.description"
                (ngModelChange)="onDescriptionChange($event)"></textarea>
    </div>
    
    <div class="form-group">
      <label>Cantidad:</label>
      <input type="number" 
             [ngModel]="editingResource ? editingResource.quantity : newResource.quantity"
             (ngModelChange)="onQuantityChange($event)">
    </div>
    
    <div class="form-group">
      <label>Costo:</label>
      <input type="number" 
             [ngModel]="editingResource ? editingResource.cost : newResource.cost"
             (ngModelChange)="onCostChange($event)">
    </div>
    
    <div class="form-actions">
      <button *ngIf="!editingResource" (click)="createResource()" [disabled]="isLoading">
        {{ isLoading ? 'Creando...' : 'Crear' }}
      </button>
      <button *ngIf="editingResource" (click)="updateResource()" [disabled]="isLoading">
        {{ isLoading ? 'Actualizando...' : 'Actualizar' }}
      </button>
      <button *ngIf="editingResource" (click)="cancelEdit()" [disabled]="isLoading">Cancelar</button>
    </div>
  </div>
  
  <!-- Tabla de recursos -->
  <div class="resource-table">
    <table>
      <thead>
        <tr>
          <th>Nombre</th>
          <th>Descripción</th>
          <th>Cantidad</th>
          <th>Costo</th>
          <th>Estado</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let resource of resources">
          <td>{{ resource.name }}</td>
          <td>{{ resource.description }}</td>
          <td>{{ resource.quantity }}</td>
          <td>{{ resource.cost | currency }}</td>
          <td>{{ resource.status ? 'Activo' : 'Inactivo' }}</td>
          <td class="actions">
            <button (click)="editResource(resource)">Editar</button>
            <button (click)="deleteResource(resource.id!)">Eliminar</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>